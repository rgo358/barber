# üîÑ Git Workflow - –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –ü—Ä–æ—Ü–µ—Å—Å

–°—Ç—Ä–æ–≥–∏–π –ø—Ä–æ—Ü–µ—Å—Å –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –ø—É—à–∞ –∫–æ–¥–∞ –≤ —Ä–µ–ø–æ.

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# –í–º–µ—Å—Ç–æ –æ–±—ã—á–Ω–æ–≥–æ git –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥–µ–ª–∞–µ–º:
./safe-commit.sh sync "‚ú® –û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π"

# –≠—Ç–æ –≤—ã–ø–æ–ª–Ω–∏—Ç:
# 1. –ü—Ä–æ–≤–µ—Ä–∫—É —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ Python
# 2. –ü—Ä–æ–≤–µ—Ä–∫—É —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–æ–≤
# 3. –ü—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ —Ç–æ–∫–µ–Ω—ã/–ø–∞—Ä–æ–ª–∏
# 4. –ö–æ–º–º–∏—Ç —Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏
# 5. –ü—É—à –Ω–∞ GitHub
```

## üìã –ü—Ä–æ—Ü–µ—Å—Å –í –î–µ—Ç–∞–ª—è—Ö

### 1Ô∏è‚É£ –ü–µ—Ä–µ–¥ –ö–æ–º–º–∏—Ç–æ–º (Pre-commit Checks)

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ `.git/hooks/pre-commit`:

```
‚úì Python —Å–∏–Ω—Ç–∞–∫—Å–∏—Å     - –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç –≤—Å–µ .py —Ñ–∞–π–ª—ã
‚úì –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤       - –º–∞–∫—Å–∏–º—É–º 50 MB –Ω–∞ —Ñ–∞–π–ª
‚úì –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω. - –∏—â–µ—Ç token/password/secret
‚úì JSON –≤–∞–ª–∏–¥–∞—Ü–∏—è      - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—Å–µ .json —Ñ–∞–π–ª—ã
‚úì Markdown —Å—Ç—Ä—É–∫—Ç—É—Ä–∞  - –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ —Å–∫–æ–±–æ–∫
```

### 2Ô∏è‚É£ –ü–µ—Ä–µ–¥ –ü—É—à–µ–º (Pre-push Checks)

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ `.git/hooks/pre-push`:

```
‚úì –ö–æ–º–º–∏—Ç—ã –∫ –æ—Ç–ø—Ä–∞–≤–∫–µ  - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ
‚úì –†–∞–±–æ—á–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è  - –Ω–µ—Ç –Ω–µ–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
‚úì Staged changes      - –≤—Å–µ –∑–∞–∫–æ–º–º–∏—á–µ–Ω–æ
‚úì –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞.  - –Ω–µ—Ç .env, secrets
‚úì –í–µ—Ç–∫–∞               - –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –µ—Å–ª–∏ –Ω–µ main
```

### 3Ô∏è‚É£ –ù–∞ GitHub (GitHub Actions CI/CD)

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ `.github/workflows/quality-checks.yml`:

```
‚úì Python —Å–∏–Ω—Ç–∞–∫—Å–∏—Å    - 3.8 –≤–µ—Ä—Å–∏—è
‚úì –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤       - –º–∞–∫—Å 50 MB
‚úì –°–µ–∫—Ä–µ—Ç—ã             - –ø–æ–ª–Ω—ã–π —Å–∫–∞–Ω
‚úì JSON –≤–∞–ª–∏–¥–∞—Ü–∏—è      - –≤—Å–µ —Ñ–∞–π–ª—ã
‚úì –°—Ç–∞—Ç—É—Å —Ä–µ–ø–æ         - —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
```

---

## üõ†Ô∏è –ö–æ–º–∞–Ω–¥—ã

### `safe-commit.sh` ‚Äî –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç

```bash
# –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç—É—Å —Ä–µ–ø–æ
./safe-commit.sh status

# –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –∫–æ–º–º–∏—Ç (—Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏)
./safe-commit.sh commit "üìù –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é X"

# –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø—É—à (—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º)
./safe-commit.sh push

# –ö–æ–º–º–∏—Ç + –ø—É—à (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
./safe-commit.sh sync "‚ú® –ì–æ—Ç–æ–≤–æ –∫ –æ—Ç–ø—Ä–∞–≤–∫–µ"
```

### `safe-push.sh` ‚Äî –ü—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–¥ –ø—É—à–µ–º

```bash
./safe-push.sh
```

---

## üìä –ü—Ä–∏–º–µ—Ä –ü–æ–ª–Ω–æ–≥–æ –¶–∏–∫–ª–∞

### –°—Ü–µ–Ω–∞—Ä–∏–π: –î–æ–±–∞–≤–ª—è–µ—Ç–µ –Ω–æ–≤—ã–π —Ñ–∞–π–ª

```bash
# 1. –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç–µ —Ñ–∞–π–ª—ã
vim salon_bot.py

# 2. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç–µ —Å—Ç–∞—Ç—É—Å
./safe-commit.sh status
# M  salon_bot.py

# 3. –ö–æ–º–º–∏—Ç–∏—Ç–µ —Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏
./safe-commit.sh commit "üîß –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥"

# –í—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∏:
# üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ Python —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞... ‚úì
# üìè –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–æ–≤... ‚úì
# üîê –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–µ–∫—Ä–µ—Ç—ã... ‚úì
# üíæ –ü—Ä–æ—Ü–µ—Å—Å –∫–æ–º–º–∏—Ç–∞:
#   ‚Ä¢ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤... ‚úì (1 —Ñ–∞–π–ª–æ–≤)
#   ‚Ä¢ –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–∏—Ç–∞... ‚úì
# ‚úÖ –ö–û–ú–ú–ò–¢ –£–°–ü–ï–®–ï–ù!
#    SHA: a1b2c3d
#    –°–æ–æ–±—â–µ–Ω–∏–µ: üîß –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥

# 4. –ü—É—à–∏–º –Ω–∞ GitHub
./safe-commit.sh push
# üöÄ PRE-PUSH CHECKS...
#   ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–º–∏—Ç–æ–≤... ‚úì 1 –∫–æ–º–º–∏—Ç–æ–≤
#   ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—á–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏... ‚úì
#   ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∫–∞ staged changes... ‚úì
# –ö–æ–º–º–∏—Ç—ã:
#       a1b2c3d üîß –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥
# üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ GitHub? (y/n) y
#   ‚Ä¢ –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ GitHub... ‚úì
# ‚úÖ –ü–£–®–ê –£–°–ü–ï–®–ï–ù!
```

---

## üö® –û–±—Ä–∞–±–æ—Ç–∫–∞ –û—à–∏–±–æ–∫

### –û—à–∏–±–∫–∞: Python —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

**–†–µ—à–µ–Ω–∏–µ:** –∏—Å–ø—Ä–∞–≤—å—Ç–µ —Ñ–∞–π–ª –∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ –∫–æ–º–º–∏—Ç

### –û—à–∏–±–∫–∞: –§–∞–π–ª –±–æ–ª—å—à–µ 50 MB

**–†–µ—à–µ–Ω–∏–µ:** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Git LFS –∏–ª–∏ –∏—Å–∫–ª—é—á–∏—Ç–µ –∏–∑ —Ä–µ–ø–æ

---

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

### –ó–∞–ø—É—Å—Ç–∏—Ç—å —á–µ—Ä–µ–∑ –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ autosave.sh (–∫–æ—Ç–æ—Ä–æ–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ñ–æ–Ω–µ)
./autosave.sh start

# –û–Ω –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å safe-commit.sh
# –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
```

### –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≤ cron (–¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞)

```bash
# –ö–æ–º–º–∏—Ç–∏—Ç—å –∫–∞–∂–¥—ã–π —á–∞—Å
0 * * * * cd /workspaces/barber && ./safe-commit.sh sync "‚è∞ Hourly auto-save"

# –ö–æ–º–º–∏—Ç–∏—Ç—å –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 18:00
0 18 * * * cd /workspaces/barber && ./safe-commit.sh sync "üìÖ Daily save"
```

---

## üìå –ü—Ä–∞–≤–∏–ª–∞ –ö–æ–º–º–∏—Ç–æ–≤

### –§–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏—è

```
<emoji> <—Ç–∏–ø> <–æ–ø–∏—Å–∞–Ω–∏–µ>

–ü—Ä–∏–º–µ—Ä—ã:
‚ú® –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é
üîß –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥
üêõ –ò—Å–ø—Ä–∞–≤–∏—Ç—å –±–∞–≥
üìù –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
üîç –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥
üöÄ –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
```

### –î–æ–ø—É—Å—Ç–∏–º—ã–µ —Ç–∏–ø—ã

| –≠–º–æ–¥–∑–∏ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|-----|----------|
| ‚ú® | feat | –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è |
| üîß | config | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥–∞ |
| üêõ | fix | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ |
| üìù | docs | –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è |
| üîç | refactor | –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∫–æ–¥–∞ |
| üßπ | chore | –û—á–∏—Å—Ç–∫–∞, —É–¥–∞–ª–µ–Ω–∏–µ –º—É—Å–æ—Ä–∞ |
| üöÄ | deploy | –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ |
| ‚è∞ | auto | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ |
| üîí | security | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ |

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ß—Ç–æ –ù–ï –∫–æ–º–º–∏—Ç–∏—Ç—å

‚ùå –§–∞–π–ª—ã —Å —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (.env, config.local)  
‚ùå –ë–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã (>50 MB)  
‚ùå –ö—ç—à –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã  
‚ùå node_modules, venv, __pycache__

---

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ –°—Ç–∞—Ç—É—Å–∞

```bash
# –õ–æ–∫–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å
./safe-commit.sh status

# –õ–æ–≥–∏ GitHub Actions
# https://github.com/rgo358/barber/actions

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∫–æ–º–º–∏—Ç—ã
git log --oneline -10

# –°—Ç–∞—Ç—É—Å –≤–µ—Ç–∫–∏
git status
git branch -v
```

---

## üí° –°–æ–≤–µ—Ç—ã

1. **–ö–æ–º–º–∏—Ç—å—Ç–µ —á–∞—Å—Ç–æ** ‚Äî –º–∞–ª–µ–Ω—å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ª–µ–≥—á–µ –æ—Ç—Å–ª–µ–¥–∏—Ç—å
2. **–û–ø–∏—Å—ã–≤–∞–π—Ç–µ –∫–æ–º–º–∏—Ç—ã** ‚Äî —è—Å–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è —Ä–µ–ø–æ
3. **–ù–µ –ø—É—à—å—Ç–µ –ø–æ –Ω–æ—á–∞–º** ‚Äî –∏–∑–±–µ–≥–∞–π—Ç–µ –±–æ–ª–∏ –æ—Ç –±–∞–≥–æ–≤
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–¥ –ø—É—à–µ–º** ‚Äî `./safe-commit.sh status`
5. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ branches** ‚Äî –¥–ª—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –Ω–æ–≤—ã–µ –≤–µ—Ç–∫–∏

---

## ‚ùì FAQ

**Q: –ú–æ–≥—É –ª–∏ —è –æ–±–æ–π—Ç–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏?**
A: –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –¥–∞, –Ω–æ **–Ω–µ –¥–µ–ª–∞–π—Ç–µ —ç—Ç–æ–≥–æ**. –û–Ω–∏ –∑–∞—â–∏—â–∞—é—Ç —Ä–µ–ø–æ.

**Q: –ß—Ç–æ –µ—Å–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞?**
A: –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç—ã –≤ `safe-commit.sh` –∏–ª–∏ `.git/hooks/`

**Q: –ö–∞–∫ –æ—Ç–∫–∞—Ç–∏—Ç—å –∫–æ–º–º–∏—Ç?**
A: `git revert <SHA>` –∏–ª–∏ `git reset --soft HEAD~1`

**Q: –ö–æ–≥–¥–∞ –ø—É—à–∏—Ç—å?**
A: –ö–æ–≥–¥–∞ –∫–æ–º–º–∏—Ç –≥–æ—Ç–æ–≤ –∫ –æ—Ç–ø—Ä–∞–≤–∫–µ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã.

---

**–ü–æ—Å–ª–µ–¥–Ω–∏–π –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-11-14  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–°—Ç–∞—Ç—É—Å:** Production Ready ‚úÖ
